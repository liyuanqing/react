webpackJsonp([1],{1264:function(e,t,a){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=a(92),s=l(c),d=a(296),f=a(1265),m=n(f),h=a(308),y=a(375),_=y.Form.Item,E=y.Select.Option,g=y.Form.create,b=(y.Radio.Group,{property_name:"",link_man:"",status:"",link_phone:"",login_name:"",alipay_account:"",page:1,rows:10}),k=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={localsize:10},b.page=1,b.rows=10,a.handleReset(a),a}return i(t,e),p(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||(b.property_name=a.property_name,b.link_man=a.link_man,b.status=a.status,b.link_phone=a.link_phone,b.login_name=a.login_name,b.alipay_account=a.alipay_account,b.page=1,t.props.dispatch(m.getList(b)))})}},{key:"companyOpenDown",value:function(e){var t=this,a="";a=1==e.status?2:1,this.props.dispatch(m.companyOpenDown({property_id:e.id,status:a},function(){t.props.dispatch(m.getList(b))}))}},{key:"handlePaginationChange",value:function(e){b.page=e,this.props.dispatch(m.getList(b))}},{key:"handleShowSizeChange",value:function(e,t){b.rows=t,this.setState({localsize:t}),b.page=1,this.props.dispatch(m.getList(b))}},{key:"handleReset",value:function(e){this.props.form.resetFields(),b={property_name:"",link_man:"",status:"",link_phone:"",login_name:"",alipay_account:"",page:1,rows:10},this.setState({localsize:10}),this.props.dispatch(m.getList(b))}},{key:"render",value:function(){var e=this,t=[{title:"编号",dataIndex:"id",key:"id"},{title:"企业名称",dataIndex:"property_name",key:"property_name"},{title:"联系人",dataIndex:"link_man",key:"link_man"},{title:"联系电话",dataIndex:"link_phone",key:"link_phone"},{title:"登录账号",dataIndex:"login_name",key:"login_name"},{title:"新增时间",dataIndex:"create_at",key:"create_at"},{title:"状态",dataIndex:"status",render:function(e,t){return s.default.createElement("span",null,1==e?"启用":"禁用")}},{title:"操作",render:function(t,a){var n="/estateCompanyUpdate?id="+a.id;return s.default.createElement("div",null,s.default.createElement(y.Popconfirm,{title:1==a.status?"确定要禁用该企业帐号吗？":"确定要启用该企业帐号吗？",onConfirm:e.companyOpenDown.bind(e,t)},s.default.createElement(y.Button,null,1==a.status?"禁用":"启用")),s.default.createElement(h.Link,{to:n},s.default.createElement(y.Button,{className:"mlr1"},"编辑")))}}],a={labelCol:{span:8},wrapperCol:{span:16}},n=this.props.form.getFieldDecorator,l=this.props.estateCompanyManager,r=l.data,o=l.paginationTotal,i={showSizeChanger:!0,showQuickJumper:!0,current:b.page,pageSize:this.state.localsize,onShowSizeChange:this.handleShowSizeChange.bind(this),onChange:this.handlePaginationChange.bind(this),total:parseInt(o),pageSizeOptions:["10","20","30","40"],defaultPageSize:10};return s.default.createElement("div",{className:"page-content"},s.default.createElement(y.Breadcrumb,{separator:"/"},s.default.createElement(y.Breadcrumb.Item,null,s.default.createElement("a",{href:"#/serveManager"},"企业管理")),s.default.createElement(y.Breadcrumb.Item,null,"企业管理")),s.default.createElement(y.Card,null,s.default.createElement(y.Form,{horizontal:!0},s.default.createElement(y.Row,null,s.default.createElement(y.Col,{span:6},s.default.createElement(_,u({label:"企业"},a),n("property_name")(s.default.createElement(y.Input,{type:"text",placeholder:"请输入企业名称"})))),s.default.createElement(y.Col,{span:6},s.default.createElement(_,u({label:"联系人"},a),n("link_man")(s.default.createElement(y.Input,{type:"text",placeholder:"请输入联系人姓名"})))),s.default.createElement(y.Col,{span:6},s.default.createElement(_,u({label:"状态"},a),n("status")(s.default.createElement(y.Select,{placeholder:"请选择状态"},s.default.createElement(E,{value:"1"},"启用"),s.default.createElement(E,{value:"2"},"禁用")))))),s.default.createElement(y.Row,null,s.default.createElement(y.Col,{span:6},s.default.createElement(_,u({label:"联系电话"},a),n("link_phone")(s.default.createElement(y.Input,{type:"text",placeholder:"请输入联系电话"})))),s.default.createElement(y.Col,{span:6},s.default.createElement(_,u({label:"登录账号"},a),n("login_name")(s.default.createElement(y.Input,{type:"text",placeholder:"请输入登录账号"})))),s.default.createElement(y.Col,{span:6},s.default.createElement(_,u({label:"支付宝账号"},a),n("alipay_account")(s.default.createElement(y.Input,{type:"text",placeholder:"请输入支付宝账号"})))),s.default.createElement(y.Col,{span:5,offset:1},s.default.createElement(y.Button,{type:"primary",onClick:this.handleSubmit.bind(this),className:"mr1"},"查询"),s.default.createElement(y.Button,{type:"ghost",onClick:this.handleReset.bind(this)},"重置"))))),s.default.createElement(y.Card,{className:"mt1"},s.default.createElement(h.Link,{to:"/estateCompanyAdd"},s.default.createElement("span",null,s.default.createElement(y.Button,{type:"primary"},s.default.createElement(y.Icon,{type:"plus"}),"新增企业"))),s.default.createElement(y.Table,{dataSource:r,columns:t,className:"mt1",pagination:i})))}}]),t}(s.default.Component);k=g()(k),t.default=(0,d.connect)(function(e){return{estateCompanyManager:e.estateCompanyManager}})(k)}});